<!-- web/templates/dashboard.html -->

{% extends "base.html" %}

{% block content %}
<h2>Welcome, {{ username }}!</h2>

{% if message %}
    <p class="info">{{ message }}</p>
{% endif %}

<h3>API Key Management</h3>

{% if api_key_exists %}
    <p>Your API Key:</p>
    <textarea readonly rows="2" cols="60">{{ api_key }}</textarea><br><br>
    <form method="post" action="/apikey/create">
        <button type="submit">Regenerate API Key</button>
    </form>
    <br>
    <form method="post" action="/apikey/deleteapikey">
        <button type="submit">Delete API Key</button>
    </form>
{% else %}
    <p>You do not have an API key.</p>
    <form method="post" action="/apikey/create">
        <button type="submit">Create API Key</button>
    </form>
{% endif %}

<h3>Instructions to Use Your API Key</h3>
<p>Use the API key above to authenticate your requests to our API. Here's an example of how to integrate it into your web application:</p>

<pre>
<!-- Example using Python and requests -->
import requests

API_ENDPOINT = "http://127.0.0.1:8000/translate"
API_KEY = "your-api-key-here"

headers = {
    "Authorization": f"Bearer {API_KEY}",
    "Content-Type": "application/json"
}

params = {
    "sentence": "Hello, world!"
}

response = requests.get(API_ENDPOINT, headers=headers, params=params)

print(response.json())
</pre>
{% endblock %}
